<!DOCTYPE html>
<html>
    <head>
    </head>

    <body>
        <script src="lib/twgl/twgl-full.min.js"></script>
        
        <script src="src/sowebplot.js"></script>
        <div id="sowebplot-target" style="border: 1px black solid; width:512px; height:512px;">
            
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", (d, e) =>
            {
                var plotter = new SoWebPlotter("sowebplot-target");
                plotter.camera.setPosition(1,1,1);
                plotter.camera.setTarget(0,0,0);
                var gl = plotter.webgl;

                let plot1 = new R2toRPlot(new RealValuedFunction(["x", "y"], "Math.cos(5 * x) * 2 - Math.sin(3 * y)"));
                let plot2 = new R2toRPlot(new RealValuedFunction(["x", "y"], "Math.cos(2 * x) * 2 - Math.sin(5 * y)"));
                
                let gfx1 = new R2toRGraphicsObject(plot1);
                let gfx2 = new R2toRGraphicsObject(plot2);
                plotter.renderer.registerGraphicsObject(gfx1);
                plotter.renderer.registerGraphicsObject(gfx2);

                plotter.loop();
            });            
        </script>
    </body>
</html>